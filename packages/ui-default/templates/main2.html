{% set page_name = "homepage" %}
{% import "components/contest.html" as contest with context %}
{% import "components/problem.html" as problem with context %}
{% import "components/user.html" as user with context %}

{% block content %}
<head>
  <meta charset="UTF-8"/>
  <title>Vue + Element UI Example</title>
  <!-- å¼•å…¥ Vue.js -->
  <script src="https://unpkg.com/vue@2.6.14/dist/vue.js"></script>
  <!-- å¼•å…¥ Element UI æ ·å¼ -->
  <link
          rel="stylesheet"
          href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"
  />
  <!-- å¼•å…¥ Element UI JavaScript -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>

  <!-- å¼•å…¥æ ·å¼ -->
  <link
          rel="stylesheet"
          href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"
  />
</head>
<body>
<div id="root">
  <header>
    <div class="w header">
      <img src="./assets/img/logo.png" id="logo" alt=""/>
      <div class="header-center">
        <ul>
          <li>å‘Šç¤ºå¢™</li>
          <li class="liActive">ä¿®ç‚¼åœº</li>
          <li>ç«æŠ€åœº</li>
          <li>å°ç¥æ¦œ</li>
          <li>è§‰é†’å°</li>
        </ul>
      </div>
      <div class="header-right">
        <el-input
                style="width: 200px; margin-right: 30px"
                placeholder="è¯·è¾“å…¥å†…å®¹"
        >
        </el-input>
        <div class="Avatar">
          <img
                  src="./assets/img/Avatar.jpg"
                  alt=""
                  style="width: 40px; height: 40px"
          />
        </div>
      </div>
    </div>
  </header>
  <!-- è½®æ’­å›¾ -->
  <div>
    <el-carousel :interval="5000" arrow="always" height="300px">
      <el-carousel-item class="el-carousel__item" v-for="item in carouselItems" :key="item.id">
        <img :src="item.imageUrl" class="carousel-image" alt="è½®æ’­å›¾">
      </el-carousel-item>
    </el-carousel>
  </div>
  <!-- æ ‡é¢˜ -->
  <div class="title">
    <div style="display: flex; height: 50px; line-height: 50px" class="w">
      <div>CODEMATE</div>
      <span
              style="
              font-size: 20px;
              color: #333;
              margin-left: 20px;
              font-weight: bold;
            "
      >ä¿®ç‚¼åœº</span
      >
    </div>
  </div>
  <div class="bottom w" style="display: flex">
    <div class="bottomLeft" style="width: 200px">
      <div
              calss="
             tabs"
              style="
              display: flex;
              justify-content: space-between;
              padding: 0 15px;
              box-sizing: border-box;
              width: 161px;
              height: 51px;
              line-height: 51px;
              background-color: #ff7d37;
              color: #fff;
              font-size: 14px;
              margin-top: 15px;
            "
      >
        <div>é€‰æ‹©è¯­è¨€</div>
        <div>
          <i class="iconfont el-icon-caret-right"></i>
        </div>
      </div>
      <div
              calss="tabs"
              style="
              display: flex;
              justify-content: space-between;
              padding: 0 15px;
              box-sizing: border-box;
              width: 161px;
              height: 51px;
              line-height: 51px;
              background-color: #f7f5f5;
              font-size: 14px;
            "
      >
        <div>å›¾å½¢åŒ–</div>
        <div>
          <i class="iconfont el-icon-caret-right"></i>
        </div>
      </div>
      <div
              calss="tabs"
              style="
              display: flex;
              justify-content: space-between;
              padding: 0 15px;
              box-sizing: border-box;
              width: 161px;
              height: 51px;
              line-height: 51px;
              background-color: #f7f5f5;
              font-size: 14px;
            "
      >
        <div>C++</div>
        <div>
          <i class="iconfont el-icon-caret-right"></i>
        </div>
      </div>
      <div
              calss="tabs"
              style="
              display: flex;
              justify-content: space-between;
              padding: 0 15px;
              box-sizing: border-box;
              width: 161px;
              height: 51px;
              line-height: 51px;
              background-color: #f7f5f5;
              font-size: 14px;
            "
      >
        <div>Python</div>
        <div>
          <i class="iconfont el-icon-caret-right"></i>
        </div>
      </div>
    </div>
    <div class="bottomCenter" style="margin: 0 30px">
      <el-tabs>
        <el-tab-pane label="èµ›äº‹åº“é¢˜" name="">
          <ul style="display: flex; margin: 20px 0">
            <li
                    style="margin-right: 20px; font-size: 16px; font-weight: bold"
            >
              å¤§æ¹¾åŒºæ¯”èµ›
            </li>
            <li
                    style="
                    margin-right: 20px;
                    font-size: 16px;
                    font-weight: normal;
                    color: #797979;
                  "
                    class="liActive"
            >
              xxxæ¯”èµ›
            </li>
            <li
                    style="
                    margin-right: 20px;
                    font-size: 16px;
                    font-weight: normal;
                    color: #797979;
                  "
            >
              NOIP
            </li>
            <li
                    style="
                    margin-right: 20px;
                    font-size: 16px;
                    font-weight: normal;
                    color: #797979;
                  "
            >
              NOI
            </li>
            <li
                    style="
                    margin-right: 20px;
                    font-size: 16px;
                    font-weight: normal;
                    color: #797979;
                  "
            >
              å…¶ä»–
            </li>
          </ul>
          <el-table :data="tableData" style="width: 100%">
            <el-table-column prop="code" label="ç¼–å·" width="100"></el-table-column>
            <el-table-column prop="name" label="é¢˜ç›®åç§°" width="300">
              <template slot-scope="scope">
                <div>
                  <h2>{{ '{{' }} scope.row.name {{ '}}' }}</h2>
                  <div style="color: #797979">
                    ã€æ ‡é¢˜æè¿°ã€‘å·´æ‹‰æ‹‰å°é­”ä»™æ˜¯ä¸€ä¸ªæ€æ · çš„æ•…äº‹å‘¢
                  </div>
                </div>
              </template>
            </el-table-column>
            <el-table-column prop="label" label="ç®—æ³•æ ‡ç­¾" width="280">
              <template slot-scope="scope">
                <div>
                  <el-tag
                          type="warning"
                          style="margin: 0 10px; padding: 0 10px"
                          v-for="(item, index) in scope.row.labels" :key="index"
                  >{{ '{{' }} item {{ '}}' }}
                  </el-tag>
                </div>
              </template>
            </el-table-column>
            <el-table-column prop="difficulty" label="éš¾åº¦" width="100">
            </el-table-column>
            <el-table-column prop="submit" label="å°è¯•" width="100">
            </el-table-column>
            <el-table-column prop="acrate" label="ACç‡" width="100">
            </el-table-column>
            <el-table-column prop="hot" width="180" label="çƒ­åº¦">
            </el-table-column>
          </el-table>
        </el-tab-pane>
        <el-tab-pane label="GESPè€ƒçº§" name="second">GESPè€ƒçº§</el-tab-pane>
        <el-tab-pane label="ç”µå­å­¦ä¼š" name="third">ç”µå­å­¦ä¼š</el-tab-pane>
        <el-tab-pane label="è“æ¡¥ç¯" name="fourth">è“æ¡¥ç¯</el-tab-pane>
        <el-tab-pane label="æŒ‰æ ‡ç­¾ç­›é€‰" name="fonv">æŒ‰æ ‡ç­¾ç­›é€‰</el-tab-pane>
      </el-tabs>
    </div>
    <div class="bottomRight" style="width: 300px">
      <el-collapse v-model="activeNames">
        <el-collapse-item name="1">
          <template slot="title">
            <div style="display: flex; align-items: center">
              <div
                      style="
                      width: 4px;
                      background-color: #ff7d37;
                      height: 18px;
                      margin: 10px;
                    "
              ></div>
              <span>é‡è¦å…¬å‘Š</span>
            </div>
          </template>
          <div style="padding: 10px">
            å¯ä»¥æŠ˜å /å±•å¼€çš„å†…å®¹åŒºåŸŸï¼Œç”¨äºå¯¹å¤æ‚åŒºåŸŸè¿›è¡Œåˆ†ç»„å’Œéšè—ï¼Œä¿æŒé¡µé¢çš„æ•´æ´ã€‚
          </div>
          <div style="padding: 10px">
            å¯ä»¥æŠ˜å /å±•å¼€çš„å†…å®¹åŒºåŸŸï¼Œç”¨äºå¯¹å¤æ‚åŒºåŸŸè¿›è¡Œåˆ†ç»„å’Œéšè—ï¼Œä¿æŒé¡µé¢çš„æ•´æ´ã€‚
          </div>
        </el-collapse-item>
        <el-collapse-item name="2">
          <template slot="title">
            <div style="display: flex; align-items: center">
              <div
                      style="
                      width: 4px;
                      background-color: #ff7d37;
                      height: 18px;
                      margin: 10px;
                    "
              ></div>
              <span>é‡è¦å…¬å‘Š</span>
            </div>
          </template>
          <div style="padding: 10px">
            å¯ä»¥æŠ˜å /å±•å¼€çš„å†…å®¹åŒºåŸŸï¼Œç”¨äºå¯¹å¤æ‚åŒºåŸŸè¿›è¡Œåˆ†ç»„å’Œéšè—ï¼Œä¿æŒé¡µé¢çš„æ•´æ´ã€‚
          </div>
          <div style="padding: 10px">
            å¯ä»¥æŠ˜å /å±•å¼€çš„å†…å®¹åŒºåŸŸï¼Œç”¨äºå¯¹å¤æ‚åŒºåŸŸè¿›è¡Œåˆ†ç»„å’Œéšè—ï¼Œä¿æŒé¡µé¢çš„æ•´æ´ã€‚
          </div>
        </el-collapse-item>
      </el-collapse>
    </div>
  </div>
</div>

<script>
    {% set pdocs = firstpages['recent_problems'][0] %}
    {% set pdocs_tag = firstpages['recent_problems_tags'] %}

    new Vue({
        el: '#root',
        data() {
            return {
                carouselItems: [
                    { id: 1, imageUrl: "{{ UiContext.cdn_prefix }}img/lunbotu/lunbotu.jpg" },
                    { id: 2, imageUrl: "{{ UiContext.cdn_prefix }}img/lunbotu/lunbotu.jpg" },
                    { id: 3, imageUrl: "{{ UiContext.cdn_prefix }}img/lunbotu/lunbotu.jpg" },
                    { id: 4, imageUrl: "{{ UiContext.cdn_prefix }}img/lunbotu/lunbotu.jpg" },
                ],
                tableData: [
                    {
                        code: 'P00001',
                        name: '100%',
                        label: '100%',
                        difficulty: 'å…¥é—¨',
                        attempt: '985',
                        AC: '100%',
                        hot: 'ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥',
                    }
                ],
                activeNames: ['1', '2'],
                tableData: [
                {%- for pdoc in pdocs -%}
                  {
                      code: '{{ pdoc.pid }}',
                      name: '{{ pdoc.title }}',
                      difficulty: '{{ pdoc.difficulty }}',
                      accept: '{{ pdoc.nAccept }}',
                      submit: '{{ pdoc.nSubmit }}',
                      acrate: {{ pdoc.nSubmit }} != 0 ? Math.floor(({{ pdoc.nAccept }} / {{ pdoc.nSubmit }})*100)+"%" : "0%",
                      labels: [
                      {%- for lb in pdoc.tag -%}
                      '{{ lb }}',
                      {%- endfor -%}
                      ],
                      hot: 'ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥',
                  },
                    {%- endfor -%}
                ],
            };
        },
    });
</script>
</body>
<style>
    * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
        font-size: 16px;
        font-family: 'PingFang-SC-Regular';
        list-style: none;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }

    body {
        background: #fff;
        padding: 10px;
    }

    /* ç‰ˆå¿ƒ */
    .w {
        width: 1680px;
        margin: 0 auto;
    }

    header {
        background-color: #fff;
    }

    header .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .header #logo {
        height: 75px;
    }

    .header-center {
        flex: 1;
        margin-left: 130px;
    }

    .header-center ul {
        display: flex;
    }

    .header-center ul li {
        margin: 0 30px;
        position: relative;
        height: 35px;
        line-height: 35px;
        cursor: pointer;
    }

    .liActive {
        color: #ff7d37;
        font-weight: 600;
    }

    .header-center ul .liActive::before {
        content: ''; /* å¿…é¡»æœ‰å†…å®¹æ‰èƒ½æ˜¾ç¤ºä¼ªå…ƒç´  */
        position: absolute;
        left: 50%;
        bottom: 0; /* æ”¾åœ¨åº•éƒ¨ */
        width: 50%; /* å®½åº¦ç­‰äºçˆ¶å…ƒç´ å®½åº¦ */
        border-bottom: 3px solid #ff7d37; /* è¾¹æ¡†æ ·å¼ä¸å˜ */
        transform: translateX(-50%); /* å°†å…ƒç´ å‘å·¦ç§»åŠ¨è‡ªèº«å®½åº¦çš„ä¸€åŠï¼Œå®ç°å±…ä¸­ */
    }

    .header-right {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: flex-end;
    }

    .header-right .Avatar img {
        border-radius: 50%;
    }

    .header-right .inputBox {
        background-color: #fff;
        padding: 5px 10px;
        width: 100px;
        margin: 0 20px;
        border: 1px solid #ccc;
        font-size: 12px;
    }

    .header-right input {
        border: none;
        outline: none;
        font-size: 12px;
        width: 100%;
    }

    .el-tabs__item:hover {
        color: #ff7d37;
        cursor: pointer;
    }

    .is-active {
        color: #ff7d37 !important;
    }

    .el-tabs__active-bar {
        background-color: #ff7d37;
    }

    .el-collapse {
        border-top: none;
    }

    .el-carousel__item h3 {
        color: #d8d8d8;
        font-size: 14px;
        opacity: 0.75;
        line-height: 200px;
        margin: 0;
    }

</style>
{% endblock %}
